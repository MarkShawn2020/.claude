---
allowed-tools: Bash(*), Read(*), Edit(*), Grep(*), Glob(*), TodoWrite(*)
description: 持续诊断并修复错误，直到没有错误为止
version: "1.0.0"
author: "公众号：手工川"
---

# /fix-until-no-error - 自动化错误修复循环

## 核心流程

1. **运行验证命令**
   - 执行用户指定的测试/构建/检查命令
   - 捕获所有错误输出

2. **错误诊断与修复**
   - 分析错误类型和堆栈信息
   - 定位问题代码位置
   - 实施修复方案

3. **循环直至成功**
   - 重新运行验证命令
   - 若有新错误，重复步骤 2
   - 直到命令执行成功（退出码 0）

## 使用方式

用户提供：
- 待修复的错误信息或验证命令（如 `npm run build`、`pytest`）
- 可选：相关上下文或约束条件

## 执行原则

- **聚焦根因**：每次只修复当前暴露的错误
- **增量验证**：每次修复后立即验证
- **防止循环**：若同一错误出现 3 次，停止并报告
- **简洁修复**：最小化改动范围

## 输出格式

每轮修复后报告：
- 修复了什么错误
- 采取了什么方案
- 当前状态（剩余错误数/已成功）

最终总结：
- 总共修复的错误数
- 主要问题类型
- 预防建议
